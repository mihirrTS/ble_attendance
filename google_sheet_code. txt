function doGet(e) {
  var sheet = SpreadsheetApp.getActiveSpreadsheet().getSheetByName("Sheet1");

  var device = e.parameter.device || "Unknown";
  var action = e.parameter.action || "NONE";
  var timestamp = new Date();

  sheet.appendRow([timestamp, device, action]);

  return ContentService.createTextOutput("OK");
}
